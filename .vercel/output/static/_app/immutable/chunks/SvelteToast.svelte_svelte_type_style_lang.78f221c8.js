import{d as A,t as C}from"./index.096ecd25.js";import{r as I,m as j,i as O}from"./scheduler.4f524d2e.js";import{w as U}from"./index.54d44800.js";function F(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function V(e,o){C(e,1,1,()=>{o.delete(e.key)})}function G(e,o){e.f(),V(e,o)}function H(e,o,l,y,d,m,p,h,_,n,c,f){let t=e.length,a=m.length,i=t;const w={};for(;i--;)w[e[i].key]=i;const g=[],x=new Map,b=new Map,S=[];for(i=a;i--;){const s=f(d,m,i),u=l(s);let r=p.get(u);r?y&&S.push(()=>r.p(s,o)):(r=n(u,s),r.c()),x.set(u,g[i]=r),u in w&&b.set(u,Math.abs(i-w[u]))}const M=new Set,T=new Set;function $(s){A(s,1),s.m(h,c),p.set(s.key,s),c=s.first,a--}for(;t&&a;){const s=g[a-1],u=e[t-1],r=s.key,v=u.key;s===u?(c=s.first,t--,a--):x.has(v)?!p.has(r)||M.has(r)?$(s):T.has(v)?t--:b.get(r)>b.get(v)?(T.add(r),$(s)):(M.add(v),t--):(_(u,p),t--)}for(;t--;){const s=e[t];x.has(s.key)||_(s,p)}for(;a;)$(g[a-1]);return I(S),g}function k(e){const o=e-1;return o*o*o+1}function J(e,{delay:o=0,duration:l=400,easing:y=O}={}){const d=+getComputedStyle(e).opacity;return{delay:o,duration:l,easing:y,css:m=>`opacity: ${m*d}`}}function K(e,{delay:o=0,duration:l=400,easing:y=k,x:d=0,y:m=0,opacity:p=0}={}){const h=getComputedStyle(e),_=+h.opacity,n=h.transform==="none"?"":h.transform,c=_*(1-p),[f,t]=j(d),[a,i]=j(m);return{delay:o,duration:l,easing:y,css:(w,g)=>`
			transform: ${n} translate(${(1-w)*f}${t}, ${(1-w)*a}${i});
			opacity: ${_-c*g}`}}const q={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function z(){const{subscribe:e,update:o}=U(new Array),l={};let y=0;function d(n){return n instanceof Object}function m(n="default",c={}){return l[n]=c,l}function p(n,c){const f={target:"default",...d(n)?n:{...c,msg:n}},t=l[f.target]||{},a={...q,...t,...f,theme:{...t.theme,...f.theme},classes:[...t.classes||[],...f.classes||[]],id:++y};return o(i=>a.reversed?[...i,a]:[a,...i]),y}function h(n){o(c=>{if(!c.length||n===0)return[];if(typeof n=="function")return c.filter(t=>n(t));if(d(n))return c.filter(t=>t.target!==n.target);const f=n||Math.max(...c.map(t=>t.id));return c.filter(t=>t.id!==f)})}function _(n,c){const f=d(n)?n:{...c,id:n};o(t=>{const a=t.findIndex(i=>i.id===f.id);return a>-1&&(t[a]={...t[a],...f}),t})}return{subscribe:e,push:p,pop:h,set:_,_init:m}}const L=z();export{G as a,J as b,k as c,F as e,K as f,L as t,H as u};
